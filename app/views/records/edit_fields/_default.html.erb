<% if f.object.respond_to?(:has_triple_powered_property?) && f.object.has_triple_powered_property?(key) %>
    <%= f.input key,
                as: :triple_powered_property,
                input_html: { class: 'form-control' },
                required: f.object.required?(key),
                multi_value: f.object.class.multiple?(key) %>
<% else %>
    <% if f.object.class.multiple? key %>
        <%= f.input key, as: :multi_value, input_html: { class: 'form-control' }, required: f.object.required?(key) %>
    <% else %>
        <%= f.input key, required: f.object.required?(key) %>
    <% end %>
<% end %>
